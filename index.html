<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contact Generator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .country-select { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        button { padding: 10px 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        button:hover { background: #45a049; }
        .downloads { margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Contact Generator</h1>
        
        <div class="country-select">
            <label><input type="checkbox" value="Ukraine"> Ukraine (+380)</label>
            <label><input type="checkbox" value="Germany"> Germany (+49)</label>
            <label><input type="checkbox" value="UK"> UK (+44)</label>
            <label><input type="checkbox" value="Italy"> Italy (+39)</label>
            <label><input type="checkbox" value="France"> France (+33)</label>
        </div>

        <button onclick="generateContacts()">Generate 500 Contacts</button>
        
        <div class="downloads" id="downloads"></div>
    </div>

    <script>
        const countryConfig = {
            'Ukraine': {
                code: '+380',
                operators: ['50', '63', '66', '67', '68', '73', '93', '95', '96', '97', '98', '99']
            },
            'Germany': {
                code: '+49',
                operators: ['151', '152', '157', '160', '162', '163', '170', '172', '173', '174', '175', '177']
            },
            'UK': {
                code: '+44',
                operators: ['7700', '7747', '7457', '7520', '7911', '7949', '7955', '7960', '7989']
            },
            'Italy': {
                code: '+39',
                operators: ['320', '327', '328', '329', '333', '340', '347', '348', '349', '380']
            },
            'France': {
                code: '+33',
                operators: ['6', '7']
            }
        };

        function generatePhoneNumber(country) {
            const config = countryConfig[country];
            const operator = config.operators[Math.floor(Math.random() * config.operators.length)];
            const remainingDigits = Array.from({length: country === 'France' ? 8 : 9 - operator.length}, 
                () => Math.floor(Math.random() * 10)).join('');
            return `${config.code}${operator}${remainingDigits}`;
        }

        function generateContacts() {
            const selectedCountries = Array.from(document.querySelectorAll('input[type="checkbox"]:checked'))
                                        .map(cb => cb.value);
            if(selectedCountries.length === 0) {
                alert('Please select at least one country!');
                return;
            }

            const contacts = [];
            const usedNumbers = new Set();
            
            while(contacts.length < 500) {
                const country = selectedCountries[Math.floor(Math.random() * selectedCountries.length)];
                let phone;
                
                do {
                    phone = generatePhoneNumber(country);
                } while(usedNumbers.has(phone));
                
                usedNumbers.add(phone);
                
                contacts.push({
                    name: `${country} Contact ${contacts.length + 1}`,
                    phone,
                    country
                });
            }

            // Generate CSV
            let csvContent = "Name,Phone,Country\n";
            csvContent += contacts.map(c => `${c.name},${c.phone},${c.country}`).join("\n");

            // Generate VCF
            let vcfContent = "";
            contacts.forEach(contact => {
                vcfContent += `BEGIN:VCARD\nVERSION:3.0\nFN:${contact.name}\nTEL;TYPE=CELL:${contact.phone}\nCATEGORIES:${contact.country}\nEND:VCARD\n`;
            });

            // Create downloads
            const downloads = document.getElementById('downloads');
            downloads.innerHTML = `
                <a href="${URL.createObjectURL(new Blob([csvContent], {type: 'text/csv'}))}" download="contacts.csv">Download CSV</a>
                <a href="${URL.createObjectURL(new Blob([vcfContent], {type: 'text/vcard'}))}" download="contacts.vcf" style="margin-left: 20px;">Download VCF</a>
            `;
        }
    </script>
</body>
</html>